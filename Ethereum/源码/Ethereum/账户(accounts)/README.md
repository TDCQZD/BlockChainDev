# 账户 accounts
以太坊的全局“共享状态”是有很多小对象（账户）来组成的，这些账户可以通过消息传递架构来与对方进行交互。每个账户都有一个与之关联的状态(state)和一个20字节的地址(address)。在以太坊中一个地址是160位的标识符，用来识别账户的。

这是两种类型的账户：

- 外部拥有的账户，被私钥控制且没有任何代码与之关联
- 合约账户，被它们的合约代码控制且有代码与之关联

外部拥有账户与合约账户的区别:
- 一个外部拥有账户可以通过创建和用自己的私钥来对交易进行签名，来发送消息给另一个外部拥有账户或合约账户。在两个外部拥有账户之间传送的消息只是一个简单的价值转移。但是从外部拥有账户到合约账户的消息会激活合约账户的代码，允许它执行各种动作。（比如转移代币，写入内部存储，挖出一个新代币，执行一些运算，创建一个新的合约等等）。
- 合约账户不可以自己发起一个交易。相反，合约账户只有在接收到一个交易之后(从一个外部拥有账户或另一个合约账户接)，为了响应此交易而触发一个交易。我们将会在“交易和消息”部分来了解关于合约与合约之间的通信。
> 在以太坊上任何的动作，总是被外部控制账户触发的交易所发动的。
## 理论知识
以太坊帐户是由椭圆曲线密码算法生成的且符合以太坊地址规范的一对公私钥地址。其主要体现在对公私钥的管理，keystore文件以及帐户代币的转帐管理。

### 帐户类型
- 外部帐户(EOAs，Externally Owned Accounts)
- 合约帐户(Contracts Accounts)
#### 外部帐户
外部帐户，也就是所谓的钱包帐户，即由系统生成的一对公、私钥地址。
- 公钥代表你的钱包地址，用于接受他人的转帐操作；
- 私钥主要用于管理自己的数字资金或合约服务调用。

#### 合约帐户
合约帐户，是由外部帐户发布智能合约所生成的合约地址。其本身只有公钥地址没有私钥地址。合约地址主要用于在外部帐户调用其合约方法时，向其地址发起合约调用交易。

#### 区别
两者相同之处在于都可以接收转帐，不同之处在于三点:

- 合约帐户没有私钥，所以无法利用私钥将合约金额转给他人；或者说其实是有私钥的，但从业务角度并未对用户开放
- 合约帐户可以被销毁
- 合约帐户可以存储代码及运行数据
### 以太坊地址（Address）
一个以太坊地址就代表着一个以太坊账户，地址是账户的标识。对于外部账户来说，地址表示的是该账户公钥的后20字节（通常会以0x开头，例如，0xcd2a3d9f938e13cd947ec05abc7fe734df8dd826，该地址使用的是16进制表示法）。
> 在EIP55^3中引入了一种大小写混用的地址表示方法，通过这种表示方法进行表示的地址隐含了一个校验和（checksum）能够验证该地址的有效性。

### 私钥和公钥
每个账户都由一对钥匙定义，一个私钥（Private Key）和一个公钥（Public Key）。 账户以地址为索引，地址由公钥衍生而来，取公钥的最后20个字节。每对私钥/地址都编码在一个钥匙文件里。

以太坊的私钥是一串64位16进制字符（32字节）。它是账户安全最重要的部分，需要妥善保管，如果丢失了私钥也就意味着你的账户丢失了。

## 私钥、公钥和地址是如何生成的？
大体来说，地址的生成的流程是：私钥 -> 公钥 -> 地址。因此地址的生成需要三步：

- 生成一个随机的私钥（32字节）
- 通过私钥生成公钥（64字节）
- 通过公钥得到地址（20字节）

## 目录
```
accounts
├─abi
│  └─bind
│      └─backends
├─external
├─keystore    
│  └─testdata
│      ├─dupes
│      ├─keystore
│      │  └─foo
│      └─v1
│          └─cb61d5a9c4896fb9658090b597ef0e7be6f7b67e
├─scwallet
└─usbwallet
    └─trezor
```